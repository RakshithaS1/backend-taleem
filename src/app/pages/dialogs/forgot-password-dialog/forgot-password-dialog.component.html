<div class="login-form">
  <h2>Forgot Password</h2>
  <form [formGroup]="form" (ngSubmit)="onForgotPasswordSubmit()">
    <div *ngIf="forgotStep === 1" class="form-group">
      <label>Email</label>
      <mat-form-field appearance="outline" class="full-width">
        <input matInput type="email" formControlName="email" />
      </mat-form-field>
    </div>

    <div *ngIf="forgotStep === 2" class="form-group">
      <label>Enter OTP</label>
      <mat-form-field appearance="outline" class="full-width">
        <input matInput type="text" formControlName="otp" />
      </mat-form-field>
    </div>

    <div *ngIf="forgotStep === 3">
  <div class="form-group">
    <label>New Password</label>
    <mat-form-field appearance="outline" class="full-width">
      <input matInput [type]="hideNew ? 'password' : 'text'" formControlName="newPassword" />
      <button mat-icon-button matSuffix (click)="hideNew = !hideNew" type="button">
        <mat-icon>{{ hideNew ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </mat-form-field>
  </div>
  <div class="form-group">
    <label>Confirm Password</label>
    <mat-form-field appearance="outline" class="full-width">
      <input matInput [type]="hideConfirm ? 'password' : 'text'" formControlName="confirmPassword" />
      <button mat-icon-button matSuffix (click)="hideConfirm = !hideConfirm" type="button">
        <mat-icon>{{ hideConfirm ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </mat-form-field>
  </div>
</div>

    <div class="dialog-actions">
      <button type="submit">
        {{ forgotStep === 1 ? 'Send OTP' : forgotStep === 2 ? 'Verify OTP' : 'Reset Password' }}
      </button>
      <button type="button" *ngIf="forgotStep == 2" (click)="resendOtp()">
       Resend OTP
      </button>
      <button type="button" class="cancel-btn" (click)="close()">Cancel</button>
    </div>
  </form>
</div>
